const I18N = {
  ru: {
    "lang.label": "Язык",
    "app.version": "Скрипты продаж • v0.1",

    "login.title": "Вход",
    "login.subtitle": "Введите пароль, чтобы перейти к скриптам.",
    "login.passwordLabel": "Пароль",
    "login.passwordPlaceholder": "Введите пароль",
    "login.button": "Войти",
    "login.error": "Неверный пароль. Попробуйте ещё раз.",

    "common.back": "← Назад",

    "kc.title": "Выбор КЦ",
    "kc.subtitle": "Выберите колл-центр, чтобы перейти к списку скриптов.",
    "kc.pl": "Польша",
    "kc.ka": "Грузия",
    "kc.ka_ru": "Грузия (ру)",
    "kc.ro": "Румыния",

    "scripts.title": "Список скриптов",
    "scripts.subtitle": "Выберите скрипт, чтобы открыть текст.",
    "scripts.hot": "Горячие продажи",
    "scripts.base": "База",
    "scripts.kcLabel": "Выбранный КЦ",

    "script.pageTitle": "Скрипт",
    "script.stageTitle": "Этапы продаж",
    "stage.greeting": "Приветствие",
    "stage.needs": "Выявление потребностей",
    "stage.presentation": "Презентация",
    "stage.courses": "Курсы",
    "stage.cross": "Кросс",
    "stage.survey": "Анкетирование",
    "stage.closing": "Завершение",
    "stage.objections": "Отработка возражений",
    "stage.products": "Препараты",
    "script.tip": "Нажимай на этап — страница прокрутится к нужному блоку.",
    "script.questionBlockTitle": "Варианты ответов (раскрывается по клику)",
    "script.placeholderText": "Здесь будет текст скрипта. Вставь свой текст в script.js (в комментариях будет подсказка).",
"product.from": "Откуда",
"product.format": "Формат",
"product.usage": "Применение",
"product.description": "Описание",
"product.compTitle": "Состав и действие",
"product.ing": "Состав",
"product.effect": "Действие",
"product.noData": "Нет данных по препаратам.",
"product.noIngr": "Нет данных по составу.",
 
},

  pl: {
    "lang.label": "Język",
    "app.version": "Skrypty sprzedaży • v0.1",

    "login.title": "Logowanie",
    "login.subtitle": "Wpisz hasło, aby przejść do skryptów.",
    "login.passwordLabel": "Hasło",
    "login.passwordPlaceholder": "Wpisz hasło",
    "login.button": "Zaloguj",
    "login.error": "Nieprawidłowe hasło. Spróbuj ponownie.",

    "common.back": "← Wstecz",

    "kc.title": "Wybór CC",
    "kc.subtitle": "Wybierz call center, aby przejść do listy skryptów.",
    "kc.pl": "Polska",
    "kc.ka": "Gruzja",
    "kc.ka_ru": "Gruzja (RU)",
    "kc.ro": "Rumunia",

    "scripts.title": "Lista skryptów",
    "scripts.subtitle": "Wybierz skrypt, aby otworzyć tekst.",
    "scripts.hot": "Gorące sprzedaże",
    "scripts.base": "Baza",
    "scripts.kcLabel": "Wybrane CC",

    "script.pageTitle": "Skrypt",
    "script.stageTitle": "Etapy sprzedaży",
    "stage.greeting": "Powitanie",
    "stage.needs": "Rozpoznanie potrzeb",
    "stage.presentation": "Prezentacja",
    "stage.courses": "Kursy",
    "stage.cross": "Cross",
    "stage.survey": "Ankieta",
    "stage.closing": "Zamknięcie",
    "stage.objections": "Obsługa obiekcji",
    "stage.products": "Preparaty",
    "script.tip": "Kliknij etap — strona przewinie do odpowiedniej sekcji.",
    "script.questionBlockTitle": "Warianty odpowiedzi (rozwija się po kliknięciu)",
    "script.placeholderText": "Tutaj będzie tekst skryptu. Wklej swój tekst w script.js (są komentarze).",
    "product.from": "Pochodzenie",
"product.format": "Forma",
"product.usage": "Stosowanie",
"product.description": "Opis",
"product.compTitle": "Skład i działanie",
"product.ing": "Składnik",
"product.effect": "Działanie",
"product.noData": "Brak danych o preparatach.",
"product.noIngr": "Brak danych o składzie.",

  },

  ka: {
    "lang.label": "ენა",
    "app.version": "გაყიდვების სკრიპტები • v0.1",

    "login.title": "შესვლა",
    "login.subtitle": "შეიყვანეთ პაროლი სკრიპტებზე გადასასვლელად.",
    "login.passwordLabel": "პაროლი",
    "login.passwordPlaceholder": "შეიყვანეთ პაროლი",
    "login.button": "შესვლა",
    "login.error": "პაროლი არასწორია. სცადეთ კიდევ.",

    "common.back": "← უკან",

    "kc.title": "ქოლ-ცენტრის არჩევა",
    "kc.subtitle": "აირჩიეთ ქოლ-ცენტრი სკრიპტების სიაზე გადასასვლელად.",
    "kc.pl": "პოლონეთი",
    "kc.ka": "საქართველო",
    "kc.ka_ru": "საქართველო (RU)",
    "kc.ro": "რუმინეთი",

    "scripts.title": "სკრიპტების სია",
    "scripts.subtitle": "აირჩიეთ სკრიპტი ტექსტის გასახსნელად.",
    "scripts.hot": "ცხელი გაყიდვები",
    "scripts.base": "ბაზა",
    "scripts.kcLabel": "არჩეული КЦ",

    "script.pageTitle": "სკრიპტი",
    "script.stageTitle": "გაყიდვების ეტაპები",
    "stage.greeting": "მისალმება",
    "stage.needs": "მოთხოვნების გამოვლენა",
    "stage.presentation": "პრეზენტაცია",
    "stage.courses": "კურსები",
    "stage.cross": "ქროს-სეილი",
    "stage.survey": "ანკეტირება",
    "stage.closing": "დასრულება",
    "stage.objections": "შეწინააღმდეგებების დამუშავება",
    "stage.products": "პრეპარატები",
    "script.tip": "დააჭირე ეტაპს — გვერდი გადავა შესაბამის ბლოკზე.",
    "script.questionBlockTitle": "პასუხების ვარიანტები (იხსნება კლიკით)",
    "script.placeholderText": "აქ იქნება სკრიპტის ტექსტი. ჩასვი ტექსტი script.js-ში (კომენტარები დაგეხმარება).",
    "product.from": "წარმოშობა",
"product.format": "ფორმატი",
"product.usage": "გამოყენება",
"product.description": "აღწერა",
"product.compTitle": "შემადგენლობა და მოქმედება",
"product.ing": "შემადგენელი",
"product.effect": "მოქმედება",
"product.noData": "პრეპარატების მონაცემები არ არის.",
"product.noIngr": "შემადგენლობის მონაცემები არ არის.",

  },

  ro: {
    "lang.label": "Limbă",
    "app.version": "Scripturi vânzări • v0.1",

    "login.title": "Autentificare",
    "login.subtitle": "Introduceți parola pentru a accesa scripturile.",
    "login.passwordLabel": "Parolă",
    "login.passwordPlaceholder": "Introduceți parola",
    "login.button": "Intră",
    "login.error": "Parolă greșită. Încercați din nou.",

    "common.back": "← Înapoi",

    "kc.title": "Alegere CC",
    "kc.subtitle": "Alegeți call center-ul pentru a vedea lista de scripturi.",
    "kc.pl": "Polonia",
    "kc.ka": "Georgia",
    "kc.ka_ru": "Georgia (RU)",
    "kc.ro": "România",

    "scripts.title": "Lista de scripturi",
    "scripts.subtitle": "Alegeți un script pentru a deschide textul.",
    "scripts.hot": "Vânzări fierbinți",
    "scripts.base": "Bază",
    "scripts.kcLabel": "CC ales",

    "script.pageTitle": "Script",
    "script.stageTitle": "Etapele vânzării",
    "stage.greeting": "Salut",
    "stage.needs": "Identificarea nevoilor",
    "stage.presentation": "Prezentare",
    "stage.courses": "Cursuri",
    "stage.cross": "Cross",
    "stage.survey": "Chestionar",
    "stage.closing": "Închidere",
    "stage.objections": "Gestionarea obiecțiilor",
    "stage.products": "Produse",
    "script.tip": "Apasă pe etapă — pagina se va derula la secțiunea potrivită.",
    "script.questionBlockTitle": "Variante de răspuns (se deschide la click)",
    "script.placeholderText": "Aici va fi textul scriptului. Pune textul în script.js (sunt comentarii).",
    "product.from": "Origine",
"product.format": "Format",
"product.usage": "Administrare",
"product.description": "Descriere",
"product.compTitle": "Compoziție și efect",
"product.ing": "Component",
"product.effect": "Efect",
"product.noData": "Nu există date despre produse.",
"product.noIngr": "Nu există date despre compoziție.",

  },
};

function getLang() {
  return localStorage.getItem("lang") || "ru";
}
function setLang(lang) {
  localStorage.setItem("lang", lang);
  applyTranslations();

  // ✅ сигнал для всіх сторінок/скриптів: мова змінилась
  document.dispatchEvent(new CustomEvent("lang:changed", { detail: { lang } }));
}

function t(key) {
  const lang = getLang();
  return (I18N[lang] && I18N[lang][key]) || (I18N.ru[key] ?? key);
}
function applyTranslations() {
  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    el.textContent = t(key);
  });
  document.querySelectorAll("[data-i18n-placeholder]").forEach((el) => {
    const key = el.getAttribute("data-i18n-placeholder");
    el.setAttribute("placeholder", t(key));
  });
  const sel = document.getElementById("langSelect");
  if (sel) sel.value = getLang();
}
document.addEventListener("DOMContentLoaded", () => {
  applyTranslations();
  const sel = document.getElementById("langSelect");
  if (sel) sel.addEventListener("change", (e) => setLang(e.target.value));
});